# Action View
Railsにおけるビューの機能を扱うコンポーネント

## HTMLとERBテンプレート
### 学習前 練習問題10.1
1. ビューテンプレートにRubyコードを組み込む際に使う、<% 〜 %>と<%= 〜 %>という2つの方法の違いについて説明してください。  
  HTMLとして表示しない場合は=を入れない。HTMLとして表示させたい場合は、=をつける。  
2. ビューテンプレートのコメントアウトについて、<!-- 〜 -->と<%#= 〜 %>の違いについて説明してください。  
  わからない。

<%=%>これは実行された結果をHTMLに組み込んでHTTPレスポンスのデータとして出力したい場合に使う。

### ERBにおけるRubyのコメントアウト
`<%#= コメント %>`

### 複数業を一括してコメントアウト
1. Rubyの条件分として、一括して`<% if false %> ~ <% end %>`のように囲む
2. =beginと=endで囲む

```ruby
<%
=begin
%>
comment.comment.comment.comment.comment.comment.
comment.comment.comment.comment.comment.comment.
<%
=end
%>
```

> `<!---->`だとhtmlには変換されるので、ソースコードから見れる。

### 特殊文字をエスケープさせない方法
1. <%== 文字列/式 %>のように、2つの=を使う。
2. <%= raw(文字列/式) %>のように、rawメソッドを使う。
3. <%= 文字列/式.html_safe %>のように、html_safeメソッドを使う。

### 学習後 練習問題10.1
1. ビューテンプレートにRubyコードを組み込む際に使う、<% 〜 %>と<%= 〜 %>という2つの方法の違いについて説明してください。  
  - 解答  
    HTMLを生成し、表示したい場合に=を使う。
  - 正解  
    実行された結果をHTMLに組み込んでHTTPレスポンスのデータとして出力したい場合に使う。

1. ビューテンプレートのコメントアウトについて、<!-- 〜 -->と<%#= 〜 %>の違いについて説明してください。  
  - 解答  
    `<!-- comment -->`は、HTMLにおいてのコメントアウト。`<%#= comment %>`はERBにおけるRubyのコメントアウト。
  - 正解
    正解

## レイアウト
### 学習前 練習問題 10.2
1. 個別のレイアウトを指定する場合の、方法とルールを説明してください。
- **解答**  viewsファイルのアクションに相当するビューファイルを編集する。HTMLを使用する。
2. レイアウトを設定する際の、content_forの目的と実際の使い方を具体的に説明してください。
- **解答**  わかりません。

### 大前提
Action Viewは全体で共通するフレームデザインなどを設けており、メインページのみをそれぞれのアクションに対応するように書き換えることで、統一感を出しながら、管理しやすくしている。

### レイアウトの役割
表示するHTMLページの、共通な外枠フレームの部分を切り出して分離することで、共通部分の保守管理を簡単にすること、および統一感、一貫性のあるページ表現構成を実現する役割がある。

#### headタグにある`csrf_meta_tags`について
セキュリティトークンを追加するヘルパーメソッド。  
正当なクライアントか確認するための認証チケット。  
クロスサイトリクエストフォージェリ攻撃対策用に、自動的に挿入される。  

### 動的なレイアウト機構(content_for)
> Rails の **DRY** の原則に則る。

=> Libraryアプリケーションにて実装

### 練習問題10.2
1. 個別のレイアウトを指定する場合の、方法とルールを説明してください。
- **解答**  layoutsディレクトリにコントローラー名単数で拡張子はhtml.erbで作成する。
- **正解**  正解。
1. レイアウトを設定する際の、content_forの目的と実際の使い方を具体的に説明してください。
- **解答**  目的はRailsのDRYの原則を遵守し、重複するコードを減らすため。方法はレイアウトに`<%= yield :名前 %>`とし、それぞれ個別のerbファイルにおいて`content_for :名前`とブロックで囲み、ブロック内にhtmlを記述する。
- **正解**  重複をなくし、より柔軟に動的にレイアウトを適用するために、埋め込みビューの条件に対応するyield機能を使って設定する。


## ビューテンプレートの共通部品管理


## ビューヘルパー

