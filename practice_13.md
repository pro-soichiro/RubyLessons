# Active SupportとRailsのテスト
## Active Supportの拡張メソッド

### Q.拡張メソッドのうち、present?とpresenceの使い方の違いについて説明してください。
- **解答** present?は値の有無を真偽値で返すのに対して、presenceは値がある場合、値を返し、ない場合はnilを返す。
- **正解** 正解。

### Q.拡張メソッドを組み合わせて、次に示す原文の文字列を、結果として示される20文字の文字列に切り詰めるよう、メソッドチェーンを利用したコードを作成してください。
**原文:** 「" 私は、山田 太郎です。 ##よろしくお願いします。  ##      "」
**結果:** 「"私は、山田 太郎です。よろしくお..."」
- **解答** `原文.squish.remove(/#/).truncate(20)`
- **正解** 正解だが、/##/でもOK

### Q.tryメソッドはどのような場面で使用するのに便利か、その特徴も含めて説明してください。
- **解答** 
- **正解** レシーバーのオブジェクトが存在する(nilでない)場合のみ。引数に指定される特定のメソッドを実行する。
`@user.try(:name)`
活用タイミングとしては、レシーバーの値が空の場合に無視しても良い処理などに使用。

### Q.delegateやwith_optionsは、表現を簡潔にするのに役立ちます。どのような場合に、どのように使用するかを説明してください。
- **解答** with_optionsは共通のオプションを付与させたい複数のメソッドがある場合においてブロックで囲み定義することで、一つの記述で完結のオプションをつけることができる。
- **正解** with_optionsについては正解。  
delegateメソッドは、オブジェクトの特定のメソッドを委譲することで、自分のメソッドのように簡潔に使用できる。  
例として、UserモデルとProfileモデルが1対1の親子関係にある場合を想定。  
Profileモデルに設定しているnameを通して、Userの名前を取得する時、通常`user.profile.name`のように使用する。この場合、下記のように記述することで、`user.name`だけで使用できるようになる。

```ruby
class User < ActiveRecord::Base
  has_one :profile
  delegate :name, to: :profile
end
```