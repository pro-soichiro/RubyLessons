# モデルに実装すべき役割
## バリデーション
- オブジェクト.errors.any?  
返り値が真偽値なので、scaffoldでは条件分岐に使い、文章中でcountとfull_messagesメソッドを使用して表示している。
```ruby
if オブジェクト.errors.eny?
  オブジェクト.errors.count
  オブジェクト.errors.full_messages.each do | message |
    message
  end
end
```

### 練習問題 6.1
1. バリデーションの目的は何か、またバリデーションはどこに実装すべきかを説明してください。
  - 解答
    正しいデータがデータベースに保存されることを保証するための確認システム。バリデーションはデータリソースに関する確認であるため、モデルの役割であり、モデルに記載する。
  - 正解
    ほぼほぼ正解。画面フォームなどから入力されたデータが妥当かどうかを評価し、適正なデータだけをデータベースに取り込むための機能。
  
2. バリデーション の実装の種類、実装方法について説明してください。
  - 解答
    モデルの作成時にデータベース自体に設定する方法とvalidatesメソッドを使用してモデルに設定する方法がある。
    データベースに設定する場合 email:string:uniqなどのように作成する。
    モデルに設定する場合 validates :email uniqueness: trueのように設定する。
  - 正解
    [ 実装の種類 ]  
    大きく分けると、  
    - 標準のバリデーションヘルパーを利用する方法
    - 独自のバリデーションヘルパーを利用する方法（カスタムバリデーション）
    の2つがある。  

    カスタムバリデーションにも種類があり、
    - モデル内でメソッドを設定する方法
    - validatorクラスを使用して作成する方法

    [ 実装方法 ]
    - 標準のバリデーションヘルパーを使用してvalidatorメソッドで実装する方法
    - モデル内に独自メソッドを設定し、validateメソッドで実装する方法
    - 独自Validatorクラスを使用する方法
  

  
3. フォームオブジェクトはどのような目的で使用するのか説明し、バリデーション機能を使用するためのActiveModelコンポーネントの具体的な実装方法を説明してください。
  - 解答
    フォームオブジェクトはユーザーから情報を受け取るときに使用する。
  - 正解
    フォームオブジェクトの説明については正しい。
    バリデーションにおけるフォームオブジェクトの使用目的については以下。
    - 特定のモデルに限定されない
    - データベースの登録に直接関係がない入力

    例:利用許諾のチェックボックス  

    フォームオブジェクトはモデル特別して管理するため、app/formsディレクトリに配置する。  
    フォームオブジェクトはActiveModel::Modelをインクルードすることでバリデーション機能を実装できる。  
    バリデーション の対象となる入力項目をattr_accessorメソッドを使用して設定する。  

    ##### app/forms/フォームオブジェクト名.rb
    ```ruby
    class フォームオブジェクト名
      include ActiveModel::Model
      attr_accessor :バリデーションの対象

      validates :バリデーションの対象, バリデーションヘルパーメソッド

    end
    ```

## コールバック
## スコープ
## ロック機能