# 4-1  RailsコンポーネントとMVCの基礎知識
## 1 MVCの役割を構成する、Railsの各コンポーネントの名前を列挙し、それぞれの役割を説明したください。

- Active Record  
モデルの機能の補助
- Action Controller  
コントローラーの補助
- Action view  
ビューに関する機能の補助
- Action dispauch  
ルーティングに関する機能の補助

### 正解

- Active Record  
役割：リソース管理
- Action View  
役割：ユーザーインターフェース
- Action Controller  
役割：リソース制御
- Action Dispatch(ルーター)  
役割：Webリクエストの解析とルーティング

## 2 ルーターの役割について簡単に説明し、ルーターとコントローターのコンポーネントの関係について、説明してください、

### 解答
ルーターはHTTPリクエストを受け取り、リクエストに従って、どのコントローラーを呼ぶのかを決める場所です。  
コントローラーはルーターの命令に従い、必要なリソースをモデル経由でデータベースより抽出する命令を出したり、ユーザーインターフェースに表示するHTMLを作るようビューに指令を出す役割をします。

### 正解
ルーターの役割はWebリクエストの解析とルーティングを担っています。  
ルーターはアクションの振り分けを、コントローラーはアクションの制御を行うという関係になっています。

## 3 メール制御のコンポーネントについて、その名前を挙げ、役割を簡単に説明してください。

### 解答
Action Mailer メールを送る機能を持つ。

### 正解
Action Mailer メールの送受信において、クライアント制御機能やメールテンプレートの生成機能を提供します。

#### 具体的にできること
- 新規登録された時に、ユーザーに対して確認メール
- エラー発生時に、管理者にメール

## 4 Rubyの拡張メソッドを提供するコンポーネントについて説明してください。

### 解答
わかりません。

### 正解
Active Support  
Rubyの拡張メソッドなどを提供します。起動時に標準で組み込まれます。

## 5 Rails 5以降で新しく実装された2つのコンポーネントについて説明してください。

### 解答
わかりません。

### 正解
Action Cable(アクションケーブル)  
クライアントとサーバー間で行うチャットのようなリアルタイム通信機能を提供します。
#### 何ができるのか
- チャットアプリが作れる

Active Storage  
Active Recordと連携した画像・動画などのファイルアップロード、参照機能を提供します。  
Amazon S3などのような、クラウド上のデータ地区正規サービスとスマートに連携します。  
#### 何ができるのか
- これまでRefileを使っていたのが、標準で画像アップロードが可能になった

## 6 Railsフレームワークの起動プロセスなどを提供するコンポーネントについて説明してください。

### 解答
わかりません。

### 正解
Railties  
Railsフレームワークの書くとなるコンポーネント。  
アプリケーションの起動プロセスや、Railsコマンド実行のインターフェース、およびRailsジェネレーターを提供します。

## 7 ERBの役割について、簡単に説明してください。

### 解答
HTMLの中にRubyを埋め込んだ時に表示のサポートをするパッケージ。

### 正解
ビューテンプレートなどに埋め込める文章埋め込み用のRubyスクリプト。  
拡張子が.erbのファイルとして記述することで、埋め込まれているRubyコードを実行し、値の埋め込みを行う。
#### スクリプトとは？
機械語への変換を省略して、解釈実行できるようにしたプログラミング言語のこと。

## 8 Rails 5のデフォルトのWebサーバー機能について簡単に説明してください。

### 解答
Puma。

### 正解
Puma  
効率的なスレッドを使用した並列処理を実現できる。  
Pumaのおかげで、開発時に即座にWebアプリケーションの確認を行うことができる。

## 9 Rakeの役割について説明してください。

### 解答
わかりません。

### 正解
Rubyで作られた構築確認用のツール。
Rails環境においては、データベースのマイグレーションなどで使用する。


# 4-2 Railsのディレクトリ構成

Rails開発を進めていく上で、生成されたフレームワークの各ディレクトリやファイルが

- どのような場合にそれらを使用するのか
- どのような役割を果たすのか

を知っておくことが重要

### ディレクトリ

- .git
gitが利用するディレクトリ。gitとはバージョン管理ツールのこと。

- app
アプリケーションに関する情報が入っている。モデル、コントローラー、ビューはこの中にある。

- bin
アプリケーションの起動に使用するプログラム（スクリプトファイル）を管理するディレクトリ。

- config
実行環境に関する設定情報

- db
データベース関連の設定情報  
スキーマファイルやマイグレーションファイルが入ったマイグレートディレクトリが存在する。

- lib
複数のアプリケーション間で共有するライブラリを管理するためのディレクトリ。

- log
アプリケーションの実行時のログファイルを保持するディレクトリ。

- public
アップロード画像といった静的ファイル、静的トップページなど、静的な公開リソースをおくためのディレクトリ。

- storage
Active storageのデフォルトローカルストレージ

- test
Rails標準の各種テスト用のコードファイルやテストデータ（フィクスチャ）などを管理するためのディレクトリ。

- tmp
Rails稼働中の一時的な情報（キャッシュ、プロセスID(pid)、セッション）などを管理するディレクトリ。

- vendor
サードパーティ製のコードや素材をおいておくディレクトリ。

### ファイル

- .gitignore
gitのバージョン管理対象から外すべきファイルなどを記述するファイル

- .ruby-version
Rubyのバージョンを管理。

- config.ru
RackがRailsサーバーの起動のために使用する設定ファイル

- Gemfile
Gemパッケージの設定ファイル

- Gemfile.lock
bundle installされたGemパッケージの依存関係を管理するためのファイル。  
このファイルに基づいてパッケージ管理されている。
  - 補足
    bundle installを実行すると、Gemfile.lockというファイルが生成される。  
    組み込まれたGemパッケージのバージョンは、Gemfile.lockを削除して、再度bundle installを実行するかbundle updateを行わない限り、バージョンの依存関係を維持してくれる。  

- package.json
nodeのパッケージ管理ツールnpmを使用する場合に必要なファイル。

- Rakefile
Rakeタスクコマンドの実行を管理するためのファイル。

- README.md
起動実行の手順に関して記述する、説明用のファイル


## appディレクトリ内のファイルやディレクトリについて

- controllers > concerns
コントローラー共通のコードを管理するためのディレクトリ

- helper
ヘルパーモジュールを管理するためのディレクトリ。  
共通のヘルパーメソッドを提供するためのApplicationHelperが生成される。

- jobs
ジョブクラスを管理するディレクトリ

- mailers
メーラークラスを管理するディレクトリ

- models
モデルクラスを管理するディレクトリ

## configディレクトリ内のファイルやディレクトリについて

- environments
実行環境（開発、テスト、運用）ごとの設定情報を管理するディレクトリ
デフォルトはdevelopmentモード

- initializers
初期化情報の設定ファイルを管理するディレクトリ

- locales
各国言語別の表示文を管理する国際化対応辞書の役割のロケーションファイル（.yml）を管理するディレクト

- application.rb
各実行環境に共通する設定を行うファイル。
ただし、environmentsディレクトリが優先。

- boot.rb
Gemfileの場所を管理し、起動時にGemfileの一覧からgemのセットアップを行うファイル

- cable.yml
Action Cable用の、環境別のデフォルトキューアダプターを管理するためのファイル

- credentials.yml.enc
暗号化キーなどを管理するためのファイル

- database.yml
データベースの環境設定を行うためのファイル

- environment.rb
Rails sで、application.rbの初期化を行うファイル

- master.key
credentials.yml.encの情報を復元するためのキーが保存されているファイル

- puma.rb
Pumaの実行環境を設定するためのファイル

- routes.rb
ルーターの定義ファイル

- spring.rb
Springの制御の設定を行うファイル
  - Springとは、 Railsアプリケーション初回起動時に必要なライブラリをロードする役割を担い、効率的な開発を行えるようにするためのプログラム。

- storage.yml
Active Storageの環境設定を行うためのファイル

